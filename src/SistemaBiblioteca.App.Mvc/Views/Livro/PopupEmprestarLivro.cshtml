@using SistemaBiblioteca.App.Mvc.Helpers
@using SistemaBiblioteca.App.Mvc.Extensions
@using SistemaBiblioteca.Business.Enums
@model SistemaBiblioteca.App.Mvc.ViewModels.LivroViewModel

<div class="modal-block modal-block-primary app-modal-md modal-header-color">
    <section class="panel">
        <header class="panel-heading" style="background-color: #035785; margin: -1.5px">
            <h2 class="panel-title" style="color:white;">Empréstimo</h2>
        </header>
        <div class="panel-body">
            <input type="hidden" id="iIdLivro" value="@Model.Id" />
            <div id="form-manter-usuario" class="form-group">
                <table class="table table-details" style="margin-bottom:-5px;">
                    <tbody>
                        <tr class="form-group">
                            <th rowspan="4" style="width: 30%; border-top: none;">
                                <img src="/Imagens/@Model.Imagem" alt="@Model.Imagem" style="width: 70px; height: 100px;" />
                            </th>
                            <th style="width: 20%; border-top: none;">Título: </th>
                            <td>@Model.Titulo</td>
                        </tr>
                        <tr>
                            <th style="width: 20%; border-top: none;">Descrição: </th>
                            <td>@Model.Descricao</td>
                        </tr>
                        <tr>
                            <th style="width: 30%; border-top: none;">Data de publicação: </th>
                            <td>@Model.AnoPublicacao.ToString("dd/MM/yyyy")</td>
                        </tr>
                        <tr>
                            <th style="width: 20%; border-top: none;">Situação: </th>
                            @CustomHtmlHelper.CampoStatus(Model.StatusEmprestimo)
                        </tr>
                    </tbody>
                </table>

                @if (@Model.StatusEmprestimo == EnumeratorsExtensions.GetDescription(StatusEmprestimo.Disponivel))
                {@Html.Partial("_ConsultaEmprestimo")}

            </div>
        </div>

        <footer class="panel-footer">
            <div class="row">
                <div class="col-sm-12 text-right">
                    <button class="btn btn-sm btn-default btn-fechar">
                        <i class="fa fa-times mr-xs"></i> Fechar
                    </button>
                    @if (@Model.StatusEmprestimo == EnumeratorsExtensions.GetDescription(StatusEmprestimo.Indisponivel))
                    {
                        <button class="btn btn-sm btn-primary" id="btn-devolver">
                            <i class="fa fa-save mr-xs"></i> Devolver
                        </button>
                    }
                </div>
            </div>
        </footer>
    </section>
</div>